import*as e from"react";import{PrimeReactContext as t}from"primereact/api";import{ComponentBase as n,useHandleStyle as r}from"primereact/componentbase";import{useMergeProps as o,useMountEffect as i}from"primereact/hooks";import{Tooltip as l}from"primereact/tooltip";import{classNames as u,DomHandler as a,ObjectUtils as c}from"primereact/utils";function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e){var t=d(e,"string");return"symbol"===s(t)?t:String(t)}var m=n.extend({defaultProps:{__TYPE:"RadioButton",autoFocus:!1,checked:!1,className:null,disabled:!1,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,name:null,onChange:null,onClick:null,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,value:null,children:void 0},css:{classes:{root:function(e){var t=e.props,n=e.context;return u("p-radiobutton p-component",{"p-highlight":t.checked,"p-disabled":t.disabled,"p-invalid":t.invalid,"p-variant-filled":t.variant?"filled"===t.variant:n&&"filled"===n.inputStyle})},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"}}});function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){var r,o,i;r=e,i=n[t],(o=f(o=t))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=e.memo(e.forwardRef((function(n,s){var d=o(),f=e.useContext(t),b=m.getProps(n,f),y=e.useRef(null),g=e.useRef(b.inputRef),h=m.setMetaData({props:b}),O=h.ptm,P=h.cx;r(m.css.styles,h.isUnstyled,{name:"radiobutton"});var k=function(e){j(e)},j=function(e){if(!b.disabled&&!b.readonly&&b.onChange){var t=b.checked,n=e.target instanceof HTMLDivElement,r=e.target===g.current&&e.target.checked!==t,o=n&&a.hasClass(y.current,"p-radiobutton-checked")===t&&!t,i=!t;if(r||o){var l;if(null==b||null===(l=b.onChange)||void 0===l||l.call(b,{originalEvent:e,value:b.value,checked:i,stopPropagation:function(){null==e||e.stopPropagation()},preventDefault:function(){null==e||e.preventDefault()},target:{type:"radio",name:b.name,id:b.id,value:b.value,checked:i}}),e.defaultPrevented)return;o&&(g.current.checked=i)}a.focus(g.current)}},E=function(e){var t;null==b||null===(t=b.onFocus)||void 0===t||t.call(b,e)},x=function(e){var t;null==b||null===(t=b.onBlur)||void 0===t||t.call(b,e)};e.useImperativeHandle(s,(function(){return{props:b,select:k,focus:function(){return a.focus(g.current)},getElement:function(){return y.current},getInput:function(){return g.current}}})),e.useEffect((function(){g.current&&(g.current.checked=b.checked)}),[b.checked]),e.useEffect((function(){c.combinedRefs(g,b.inputRef)}),[g,b.inputRef]),i((function(){b.autoFocus&&a.focus(g.current,b.autoFocus)}));var R=c.isNotEmpty(b.tooltip),S=m.getOtherProps(b),w=d({id:b.id,className:u(b.className,P("root",{context:f})),style:b.style,"data-p-checked":b.checked},S,O("root"));delete w.input,delete w.box,delete w.icon;var N,C,D,I;return e.createElement(e.Fragment,null,e.createElement("div",p({ref:y},w),(D=c.reduceKeys(S,a.ARIA_PROPS),I=d(v({id:b.inputId,type:"radio",name:b.name,defaultChecked:b.checked,onFocus:E,onBlur:x,onChange:j,disabled:b.disabled,readOnly:b.readonly,required:b.required,tabIndex:b.tabIndex,className:P("input")},D),n.input,O("input")),e.createElement("input",p({ref:g},I))),(N=d({className:P("box")},n.box,O("box")),C=d({className:P("icon")},n.icon,O("icon")),e.createElement("div",N,e.createElement("div",C)))),R&&e.createElement(l,p({target:y,content:b.tooltip,pt:O("tooltip")},b.tooltipOptions)))})));y.displayName="RadioButton";export{y as RadioButton};
